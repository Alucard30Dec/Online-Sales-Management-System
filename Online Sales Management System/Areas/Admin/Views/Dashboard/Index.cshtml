@{
    ViewData["Title"] = "Dashboard";

    int admins = (int)(ViewBag.AdminsCount ?? 0);
    int products = (int)(ViewBag.ProductsCount ?? 0);
    int customers = (int)(ViewBag.CustomersCount ?? 0);
    int suppliers = (int)(ViewBag.SuppliersCount ?? 0);
    int employees = (int)(ViewBag.EmployeesCount ?? 0);
    int purchases = (int)(ViewBag.PurchasesCount ?? 0);
    int invoices = (int)(ViewBag.InvoicesCount ?? 0);
    int expenses = (int)(ViewBag.ExpensesCount ?? 0);
    int lowStock = (int)(ViewBag.LowStockCount ?? 0);

    decimal todaySales = (decimal)(ViewBag.TodaySales ?? 0m);
    decimal monthSales = (decimal)(ViewBag.MonthSales ?? 0m);
}

<div class="row">
    <div class="col-lg-3 col-6">
        <div class="small-box bg-info">
            <div class="inner">
                <h3>@products</h3>
                <p>Products</p>
            </div>
            <div class="icon"><i class="fas fa-box"></i></div>
            <a href="/Admin/Products" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
        </div>
    </div>

    <div class="col-lg-3 col-6">
        <div class="small-box bg-success">
            <div class="inner">
                <h3>@customers</h3>
                <p>Customers</p>
            </div>
            <div class="icon"><i class="fas fa-users"></i></div>
            <a href="/Admin/Customers" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
        </div>
    </div>

    <div class="col-lg-3 col-6">
        <div class="small-box bg-warning">
            <div class="inner">
                <h3>@suppliers</h3>
                <p>Suppliers</p>
            </div>
            <div class="icon"><i class="fas fa-truck"></i></div>
            <a href="/Admin/Suppliers" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
        </div>
    </div>

    <div class="col-lg-3 col-6">
        <div class="small-box bg-danger">
            <div class="inner">
                <h3>@todaySales.ToString("N0")</h3>
                <p>Today Sales</p>
                <div class="osms-kpi-note">@DateTime.UtcNow.ToString("yyyy-MM-dd") (UTC)</div>
            </div>
            <div class="icon"><i class="fas fa-cash-register"></i></div>
            <a href="/Admin/Invoices" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-3 col-6">
        <div class="small-box bg-primary">
            <div class="inner">
                <h3>@monthSales.ToString("N0")</h3>
                <p>Month Sales</p>
            </div>
            <div class="icon"><i class="fas fa-chart-line"></i></div>
            <a href="/Admin/Reports" class="small-box-footer">Reports <i class="fas fa-arrow-circle-right"></i></a>
        </div>
    </div>

    <div class="col-lg-3 col-6">
        <div class="small-box bg-secondary">
            <div class="inner">
                <h3>@purchases</h3>
                <p>Purchases</p>
            </div>
            <div class="icon"><i class="fas fa-cart-plus"></i></div>
            <a href="/Admin/Purchases" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
        </div>
    </div>

    <div class="col-lg-3 col-6">
        <div class="small-box bg-teal">
            <div class="inner">
                <h3>@invoices</h3>
                <p>Invoices</p>
            </div>
            <div class="icon"><i class="fas fa-file-invoice-dollar"></i></div>
            <a href="/Admin/Invoices" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
        </div>
    </div>

    <div class="col-lg-3 col-6">
        <div class="small-box bg-maroon">
            <div class="inner">
                <h3>@expenses</h3>
                <p>Expenses</p>
            </div>
            <div class="icon"><i class="fas fa-receipt"></i></div>
            <a href="/Admin/Expenses" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-12 col-lg-6">
        <div class="card card-primary card-outline">
            <div class="card-header">
                <h3 class="card-title"><i class="fas fa-bolt mr-1"></i> Quick Links</h3>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-sm-6 mb-2">
                        <a class="btn btn-outline-primary btn-block" href="/Admin/Admins"><i class="fas fa-user-shield mr-1"></i> Admins</a>
                    </div>
                    <div class="col-sm-6 mb-2">
                        <a class="btn btn-outline-primary btn-block" href="/Admin/AdminGroups"><i class="fas fa-users-cog mr-1"></i> Admin Groups</a>
                    </div>
                    <div class="col-sm-6 mb-2">
                        <a class="btn btn-outline-success btn-block" href="/Admin/Purchases/Create"><i class="fas fa-cart-plus mr-1"></i> New Purchase</a>
                    </div>
                    <div class="col-sm-6 mb-2">
                        <a class="btn btn-outline-danger btn-block" href="/Admin/Invoices/Create"><i class="fas fa-file-invoice-dollar mr-1"></i> New Invoice</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-12 col-lg-6">
        <div class="card card-warning card-outline">
            <div class="card-header">
                <h3 class="card-title"><i class="fas fa-exclamation-triangle mr-1"></i> Low Stock</h3>
            </div>
            <div class="card-body">
                <p class="mb-2">Products at or below reorder level:</p>
                <h2 class="mb-0">@lowStock</h2>
                <div class="mt-3">
                    <a href="/Admin/Stock/Low" class="btn btn-warning"><i class="fas fa-warehouse mr-1"></i> View Low Stock</a>
                </div>
            </div>
        </div>
    </div>
</div>
