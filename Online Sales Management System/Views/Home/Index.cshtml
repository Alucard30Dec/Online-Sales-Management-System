@using System.Globalization
@model OnlineSalesManagementSystem.Models.HomeViewModel

@{
    ViewData["Title"] = "Trang chủ";
}

<section class="hero-area">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-12 custom-padding-right">
                <div class="slider-head">
                    <div class="hero-slider">
                        <div class="single-slider" style="background-image: url('/assets/images/hero/slider-bg1.jpg');">
                            <div class="content">
                                <h2><span>No restocking fee ($35 savings)</span> M75 Sport Watch</h2>
                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                                <h3><span>Now Only</span> $320.99</h3>
                                <div class="button"><a href="#" class="btn">Shop Now</a></div>
                            </div>
                        </div>
                        <div class="single-slider" style="background-image: url('/assets/images/hero/slider-bg2.jpg');">
                            <div class="content">
                                <h2><span>Big Sale Offer</span> Get the Best Deal on CCTV Camera</h2>
                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                                <h3><span>Combo Only:</span> $590.00</h3>
                                <div class="button"><a href="#" class="btn">Shop Now</a></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-12">
                <div class="row">
                    <div class="col-lg-12 col-md-6 col-12 md-custom-padding">
                        <div class="hero-small-banner" style="background-image: url('/assets/images/hero/slider-bnr.jpg');">
                            <div class="content">
                                <h2><span>New line required</span> iPhone 12 Pro Max</h2>
                                <h3>$259.99</h3>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-12 col-md-6 col-12">
                        <div class="hero-small-banner style2">
                            <div class="content">
                                <h2>Weekly Sale!</h2>
                                <p>Saving up to 50% off all online store items this week.</p>
                                <div class="button"><a class="btn" href="#">Shop Now</a></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
@if (Model.TrendingCategories != null && Model.TrendingCategories.Any())
{
    <section class="trending-categories section" style="margin-top: 30px;">
        <div class="container">
            <div class="section-title">
                <h2>Trending Categories</h2>
                <p>Khám phá các danh mục sản phẩm nổi bật nhất hiện nay.</p>
            </div>
            <div class="row">
                @foreach (var cat in Model.TrendingCategories)
                {
                    <div class="col-lg-3 col-md-4 col-6 mb-4">
                        <div class="single-category text-center p-4 border rounded shadow-sm h-100 hover-effect">
                            <div class="icon mb-3 text-primary"><i class="lni lni-tag" style="font-size: 2rem;"></i></div>
                            <h5 class="fw-bold mb-2">@cat.Name</h5>
                            <p class="text-muted small mb-3 text-truncate">@(cat.Description ?? "Bộ sưu tập mới")</p>
                            <a href="/Shop?categoryId=@cat.Id" class="btn btn-sm btn-outline-primary rounded-pill">Xem ngay</a>
                        </div>
                    </div>
                }
            </div>
        </div>
    </section>
}
<section class="trending-product section" style="margin-top: 12px;">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="section-title">
                    <h2>Trending Product</h2>
                    <p>Những sản phẩm được yêu thích nhất trong tuần qua.</p>
                </div>
            </div>
        </div>
        <div class="row">
            @if (Model.TrendingProducts != null && Model.TrendingProducts.Any())
            {
                foreach (var product in Model.TrendingProducts)
                {
                    <div class="col-lg-3 col-md-6 col-12">
                        <div class="single-product">
                            <div class="product-image">
                                @* Hiển thị ảnh sản phẩm *@
                                <img src="@(string.IsNullOrEmpty(product.ImagePath) ? "/assets/images/products/product-1.jpg" : product.ImagePath)" alt="@product.Name" style="height: 200px; object-fit: contain;">

                                <div class="button">
                                    <a href="#" class="btn"><i class="lni lni-cart"></i> Add to Cart</a>
                                </div>
                            </div>
                            <div class="product-info">
                                <span class="category">@(product.Category?.Name ?? "General")</span>
                                <h4 class="title">
                                    <a href="/Product/Details/@product.Id">@product.Name</a>
                                </h4>
                                <ul class="review">
                                    <li><i class="lni lni-star-filled"></i></li>
                                    <li><i class="lni lni-star-filled"></i></li>
                                    <li><i class="lni lni-star-filled"></i></li>
                                    <li><i class="lni lni-star-filled"></i></li>
                                    <li><i class="lni lni-star"></i></li>
                                    <li><span>4.0 Review(s)</span></li>
                                </ul>
                                <div class="price">
                                    @* Đã xóa logic DiscountPrice gây lỗi, chỉ hiển thị SalePrice *@
                                    <span>@product.SalePrice.ToString("C0", CultureInfo.GetCultureInfo("vi-VN"))</span>
                                </div>
                            </div>
                        </div>
                    </div>
                }
            }
            else
            {
                <div class="col-12 text-center">
                    <p class="text-muted">Chưa có sản phẩm nổi bật nào.</p>
                </div>
            }
        </div>
    </div>
</section>
<section class="call-action section">
    <div class="container">
        <div class="row ">
            <div class="col-lg-8 offset-lg-2 col-12">
                <div class="inner">
                    <div class="content">
                        <h2 class="wow fadeInUp" data-wow-delay=".4s">
                            Currently You are using free<br> Lite version of ShopGrids
                        </h2>
                        <p class="wow fadeInUp" data-wow-delay=".6s">
                            Please, purchase full version of the template to get all pages,<br> features and commercial license.
                        </p>
                        <div class="button wow fadeInUp" data-wow-delay=".8s">
                            <a href="javascript:void(0)" class="btn">Purchase Now</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<section class="banner section">
    <div class="container">
        <div class="row">
            <div class="col-lg-6 col-md-6 col-12">
                <div class="single-banner" style="background-image:url('/assets/images/banner/banner-1-bg.jpg')">
                    <div class="content">
                        <h2>Smart Watch 2.0</h2>
                        <p>Space Gray Aluminum Case with <br>Black/Volt Real Sport Band </p>
                        <div class="button"><a href="#" class="btn">View Details</a></div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 col-md-6 col-12">
                <div class="single-banner custom-responsive-margin" style="background-image:url('/assets/images/banner/banner-2-bg.jpg')">
                    <div class="content">
                        <h2>Smart Headphone</h2>
                        <p>Lorem ipsum dolor sit amet, <br>eiusmod tempor incididunt ut labore.</p>
                        <div class="button"><a href="#" class="btn">Shop Now</a></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<section class="shipping-info">
    <div class="container">
        <ul>
            <li>
                <div class="media-icon"><i class="lni lni-delivery"></i></div>
                <div class="media-body"><h5>Free Shipping</h5><span>On order over $99</span></div>
            </li>
            <li>
                <div class="media-icon"><i class="lni lni-support"></i></div>
                <div class="media-body"><h5>24/7 Support.</h5><span>Live Chat Or Call.</span></div>
            </li>
            <li>
                <div class="media-icon"><i class="lni lni-credit-cards"></i></div>
                <div class="media-body"><h5>Online Payment.</h5><span>Secure Payment Services.</span></div>
            </li>
            <li>
                <div class="media-icon"><i class="lni lni-reload"></i></div>
                <div class="media-body"><h5>Easy Return.</h5><span>Hassle Free Shopping.</span></div>
            </li>
        </ul>
    </div>
</section>
@section Scripts {
    <script type="text/javascript">
        tns({
            container: '.hero-slider',
            slideBy: 'page',
            autoplay: true,
            autoplayButtonOutput: false,
            mouseDrag: true,
            gutter: 0,
            items: 1,
            nav: false,
            controls: true,
            controlsText: ['<i class="lni lni-chevron-left"></i>', '<i class="lni lni-chevron-right"></i>'],
        });
    </script>
}